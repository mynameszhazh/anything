# vue.js 设计与实现

## 第 1 章 权衡的艺术

### 1.1 命令式和声明式

- 命令式

  > 关注过程 (jQuery)

- 声明式
  > 关注结果 (Vue)

### 1.2 性能与可维护性的权衡

> 声明式代码的性能不优于命令式代码的性能

- 毕竟框架(vue)本身就是封装了命令式代码才实现了面向用户的声明式。
- 在保持可维护性的同时让性能损失最小化。

### 1.3 虚拟 DOM 的性能到底如何

- 比直接原生的新能差点, 但是可维护性 高了不知道几个档次
  - 另外 innerHtml 性能太差了

### 1.4 运行时和编译时

> 运行时和编译时

## 第 2 章 框架设计的核心要素

### 2.1 提升用户的开发体验

- 提供友好的警告
- 直观的输出内容

### 2.2 控制框架代码的体积

- 生产环境的代码和开发环境的代码应该做一个区分

### 2.3 框架要做到良好的 Tree-Shaking

- 自己声明纯净函数

```ts
/*#__PURE__*/
function fn() {}
```

- 可以使用上面方法的地方
  - webpack(terser)
  - rollup

### 2.4 框架应该输出怎样的构建产物

- cjs
  - node 环境运行
- brower
  - 浏览器运行
- bundler
  - webpack rollup 等打包工具运行
  - 一般开发的时候使用吗

### 2.5 特性开关

- 通过用户可以控制的开关, 让多余的代码清除掉
