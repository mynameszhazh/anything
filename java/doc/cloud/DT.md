# 分布式事务

## 理论基础

### base 理论

- 基本可用
- 软状态
- 最终一致性

## Seata

- [文档](http://seata.io/)

### 解决方案

- XA 模式: 保证一致性
- TCC 模式: 最终一致性 有业务侵入
  - 追求性能
  - 将需要操作的部分 进行数据预留, 
    - try
    - confirm
    - cancel
    - 上面三个方法要自己写
  - 空回滚
  - 业务悬挂
  - 连redis中都可以使用
- AT 模式: 最终一致性, 无业务侵入(默认模式)
  - 中间存在一个缓存区进行 操作记录保存
- SAGA 模式: 长事务模式
  - 一个个往后走
  - 出现错误, 一个个往前回滚
  - 优点
    - 性能好
  - 缺点
    - 容易乱
