# 基础架构

## 架构到底是什么?

### 系统与子系统

> 系统是一个产品的总称，子系统是系统的一部分。

### 模块与组件

> 模块是一个单独的功能, 组件用于辅助模块的实现。

### 框架与架构

> 框架是软件的基础服务, 架构是软件的基础结构. 架构可以从多个方面角度来看, 比如: 业务架构, 技术架构, 数据架构等。

## 架构的背景

> 更好的软件架构 加速时代的进步 是否会达到阈值?

## 架构设计的目的

> 架构设计的主要目的是为了解决软件系统复杂度带来的问题

### 学生管理系统(案例)

- 一个学校一共就有 1-2 万人 每个人平均一天使用不到一次, 就算有两个小时使用不了也不会怎么样
  - 不用考虑缓存
  - web 直接 nginx 数据库 直接 mysql
  - 但是数据保存一定不能出错, 需要做到备注存储
  - 安全, 一些学生的信息需要做好权限控制
- 成本：由于系统很简单，基本上几台服务器就能够搞定，对于一所大学来说完全不是问题，可以无需太多关注。

## 复杂度来源

### 高性能

> 一个系统的性能是由多个因素决定的, 比如: 硬件, 网络, 系统设计等

### 高可用

> 无中断

- 冗余
- 一台不够那就四台(集群)
- 只有多一些问题的妥协 没有完美的解决方案

### 可扩展性

- 预测变化

  - 不能每个设计点都考虑可扩展性。
  - 不能完全不考虑可扩展性。
  - 所有的预测都存在出错的可能性

- 应对变化

  > 封装变化 隔离稳定

### 低成本, 安全, 规模

- 低成本 往往需要创新
- 安全 防火墙
- 加了一半的东西, 复杂度可能呈指数上升


## 架构设计三原则(不确定性)

### 合适原则

> 什么样的场景做什么样的事情

### 简单原则
> 简单优于复杂

- 软件设计和硬件设计不一样, 硬件设计完成之后是不会在懂得, 软件做完了之后 需求是会加的, 变的

### 演变原则
> 再复杂的软件也开始于一个简单的软件, 逐渐变得复杂

## 架构设计流程

### 识别复杂度

- 排除法
  -  这个子系统是否需要 高性能?
  -  这个子系统是否需要 高可用?
  -  这个子系统是否需要 高扩展性?


### 设计备选方案
- 不需要过于复杂
- 不能只有一个方案
- 方案不能太过细节